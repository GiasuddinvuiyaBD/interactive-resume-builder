{% extends "layout.html" %}

{% block title %}
    form
{% endblock %}

{% block main %}
<div class="resume-form">
    <div class="form-container">

        <h2 class="form-heading">Create Resume</h2>

        <form action="/form" method="post">
            <div class="personal-info-section">
            <div class="form-group mb-4">
                <input autocomplete="off" id="title" autofocus class="form-control" name="title" placeholder="Title" type="text">
                <small class="form-text title-error text-muted"></small>
                {% if errors.get('title') %}
                <small class="error form-text text-muted">
                    {{ errors['title'] }}
                </small>
                {% endif %}
            </div>
            <label id="resume-label">Personal Info:</label>
            <div class="form-row">
                <!-- Name and Email Inline -->
                <div class="col">
                    <div class="form-group mb-4">
                        <input autocomplete="off" id="name" autofocus class="form-control" name="name" placeholder="Name: " type="text">
                        <small class="form-text name-error text-muted"></small>
                        {% if errors.get('name') %}
                        <small class="error form-text text-muted">
                            {{ errors['name'] }}
                        </small>
                        {% endif %}
                    </div>
                </div>
                <div class="col">
                    <div class="form-group mb-4">
                        <input autocomplete="off" id="email" class="form-control" name="email" placeholder="Email: " type="text">
                        <small class="form-text email-error text-muted"></small>
                        {% if errors.get('email') %}
                        <small class="error form-text text-muted">
                            {{ errors['email'] }}
                        </small>
                        {% endif %}
                    </div>
                </div>
            </div>
            <div class="form-row">
                <!-- phone country  and city Inline -->
                <div class="col">
                    <div class="form-group mb-4">
                        <input class="form-control" id="phone" name="phone" placeholder="Phone: " type="phone">
                        <small class="form-text phone-error text-muted"></small>
                        {% if errors.get('phone') %}
                        <small class="error form-text text-muted">
                            {{ errors['phone'] }}
                        </small>
                        {% endif %}
                    </div>
                </div>
                <div class="col">
                    <div class="form-group mb-4">
                        <input class="form-control" id="country" name="country" placeholder="Country: " type="text">
                        <small class="form-text text-muted"></small>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group mb-4">
                        <input class="form-control" id="city" name="city" placeholder="City: " type="text">
                        <small class="form-text text-muted"></small>
                    </div>
                </div>
            </div>
            <!-- linkedin and protfolio -->
            <div class="form-row">
                <div class="col">
                    <div class="form-group mb-4">
                        <input class="form-control" id="linkedin" name="linkedin" placeholder="Linkedin: " type="text">
                        <small class="form-text text-muted"></small>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group mb-4">
                        <input class="form-control" id="protfolio" name="protfolio" placeholder="Protfolio: " type="text">
                        <small class="form-text text-muted"></small>
                    </div>
                </div>
            </div>
        </div>
        <!-- Education  -->
        <div class="education-section">
            <label id="resume-label">Education:</label>
            {% for index in range(form_data.getlist('degree')|length or 1) %}
            <div class="form-row">
                <div class="col">
                    <div class="form-group mb-4">
                        <input class="form-control" id="degree" name="degree" placeholder="Degree: " type="text" 
                               value="{{ form_data.getlist('degree')[index] if form_data.getlist('degree') else '' }}">
                        <small class="error form-text text-muted">
                            {{ errors.get('degree_' ~ index) }}
                        </small>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group mb-4">
                        <input class="form-control" id="institution" name="institution" placeholder="Institution: " type="text"
                               value="{{ form_data.getlist('institution')[index] if form_data.getlist('institution') else '' }}">
                        <small class="error form-text text-muted">
                            {{ errors.get('institution_' ~ index) }}
                        </small>
                    </div>
                </div>
            </div>
            <div class="form-row">
                <div class="col">
                    <div class="form-group mb-4">
                        <input class="form-control" id="year" name="year" placeholder="Year: " type="text"
                               value="{{ form_data.getlist('year')[index] if form_data.getlist('year') else '' }}">
                        <small class="error form-text text-muted">
                            {{ errors.get('year_' ~ index) }}
                        </small>
                    </div>
                </div>
            </div>
            {% endfor %}
            <button type="button" class="btn btn-sm btn-outline-primary mb-4" id="educationBtn">Add More</button>
        </div>
        
        

             <!-- work experience -->
            <div class="work-experience-section">
            <label id="resume-label">Work Experience: </label>
            <div class="form-row">
                <div class="col">
                    <div class="form-group mb-5">
                        <input class="form-control" id="role" name="[]" placeholder="Role: " type="text">
                        <small class="form-text role-error text-muted"></small>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group mb-5">
                        <input class="form-control" id="company" name="[]" placeholder="Company: " type="text">
                        <small class="form-text company-error text-muted"></small>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group mb-5">
                        <input class="form-control" id="year" name="[]" placeholder="Year: " type="text">
                        <small class="form-text dueYear-error text-muted"></small>
                    </div>
                </div>
            </div>
            <button type="button" class="btn btn-sm btn-outline-primary mb-4" id="experienceBtn">Add More</button>
            </div>

            <!-- skills -->
            <div class="skill-section">
            <label id="resume-label">Skills: </label>
            <div class="form-row">
                <div class="col">
                    <div class="form-group mb-5">
                        <input class="form-control" id="skill" name="[]" placeholder="Write you skills " type="text">
                        <small class="form-text text-muted"></small>
                    </div>
                </div>
            </div>
            <button type="button" class="btn btn-sm btn-outline-primary mb-4" id="skillsBtn">Add More Skills</button>
            </div>

            <button class="btn btn-primary btn-block" type="submit" id="resumeBtn">Create</button>
            <small class="form-text form-validation-fail text-muted"></small>
        </form>
    </div>
</div>
{% endblock %}

